import{u as E,t as g,v as c,e as o,p as t,x,w as s,y as F,c as f,z as q,A as $,B as h,C as Q,E as b,F as H,G as N,H as p,I as k,o as U,J as D,K as m,L as O,N as T,O as C,R as B,S as P,T as W,U as j,W as L,s as G,d as J,X as M,Y as R,Z as S,$ as K,a0 as X,V,r as Y,q as Z,a1 as z}from"./vendor.js";const A=Object.assign({name:"EssentialLink"},{__name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},route:{type:String,default:null},function:{type:Function,default:()=>{}},external:{type:String,default:null},icon:{type:String,default:""},activeRoute:{type:String,required:!0},indent:{type:Boolean,default:!1}},setup(w){const r=E(),e=w,l=g(()=>e.route&&e.route===e.activeRoute),d=()=>{e.route?r.push({path:e.route}):e.function()};return(_,a)=>(o(),c(p,null,[t(N,{clickable:"",tag:e.external?"a":"router-link",href:e.external,onClick:d,target:"_blank","active-class":"q-item--highlighted",class:H({"q-pl-lg":e.indent}),style:$(l.value?"background-color: rgba(0, 31, 63, 0.1)":"")},{default:s(()=>[t(F,null,{default:s(()=>[t(q,{style:$(l.value?"font-weight: bold;":"")},{default:s(()=>[e.icon?(o(),f(Q,{key:0,name:e.icon,size:"sm",style:{opacity:"50%"}},null,8,["name"])):x("",!0),h(" "+b(e.title),1)]),_:1},8,["style"]),e.caption?(o(),f(q,{key:0,caption:""},{default:s(()=>[h(b(e.caption),1)]),_:1})):x("",!0)]),_:1})]),_:1},8,["tag","href","class","style"]),x("",!0)],64))}}),ee={class:"q-px-md"},te={class:"q-pb-md"},ae={class:"container-md row no-wrap items-center bg-primary text-white"},ne={class:"container-md"},se={class:"q-px-md"},oe={class:"q-pb-md"},le={__name:"MainLayoutHelper",setup(w){const r=k(!1),e=()=>{r.value=window.innerWidth<=1151},l=k(!1),d=k("Lorum Ipsum");function _(){l.value=!l.value}return U(()=>{e(),window.addEventListener("resize",e)}),D(()=>{window.removeEventListener("resize",e)}),(a,u)=>(o(),c("div",null,[r.value?(o(),f(G,{key:0,view:"lHh Lpr lFf",style:{"background-color":"#F8F8F8","padding-bottom":"50px"}},{default:s(()=>[t(O,{elevated:"",style:{},class:"bg-primary"},{default:s(()=>[t(T,null,{default:s(()=>[t(C,null,{default:s(()=>[t(Q,{name:"school",size:"lg",style:{opacity:"50%"}})]),_:1}),t(B,null,{default:s(()=>[h(b(d.value),1)]),_:1}),t(P,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:_})]),_:1})]),_:1}),t(W,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=y=>l.value=y),"show-if-above":"",bordered:"",side:"right"},{default:s(()=>[t(j,null,{default:s(()=>[t(q,{header:""},{default:s(()=>u[1]||(u[1]=[h(" Â  ")])),_:1,__:[1]}),L(a.$slots,"menu")]),_:3})]),_:3},8,["modelValue"]),m("div",ee,[m("div",te,[L(a.$slots,"default")])])]),_:3})):(o(),c(p,{key:1},[t(T,{class:"bg-primary text-white"},{default:s(()=>[m("div",ae,[t(C,null,{default:s(()=>[t(Q,{name:"school",size:"lg",style:{opacity:"50%"}})]),_:1}),t(B,null,{default:s(()=>[h(b(d.value),1)]),_:1}),L(a.$slots,"menu")])]),_:3}),m("div",ne,[m("div",se,[m("div",oe,[L(a.$slots,"default")])])])],64))]))}},re={__name:"BreadcrumbsComp",setup(w){const r=J(),e=M(),l=E();function d(n){return typeof n=="string"?n.replace(/^\//,""):""}g(()=>r.$db().model("routeLineages").query().get());const _=n=>{l.push({name:n,params:e.params,query:e.query})},a=g(()=>l.resolve(e.path)),u=g(()=>{const n=a.value.matched[a.value.matched.length-1];d(n.path);const i=r.$db().model("routeLineages").query().where("name",n.name).first();return i?i.lineage.map(v=>r.$db().model("routeLineages").query().where("name",v).first()):[]}),y=n=>{if(n){const i=n.label.match(/:(\w+)/);if(i){const v=i[1];return e.params[v]||n.label}return n.label}return""};return(n,i)=>(o(),c("div",null,[t(K,{class:"q-mt-md"},{default:s(()=>[t(R,{class:"text-subtitle2",label:"Home",to:{path:"/"}}),(o(!0),c(p,null,S(u.value,(v,I)=>(o(),f(R,{class:"text-subtitle2",key:I,label:y(v),onClick:ie=>_(v.name)},null,8,["label","onClick"]))),128))]),_:1})]))}},ue={class:"q-mb-md"},de=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(w){const r=M(),e=k(r.path);X(r,a=>{e.value=a.path});const l=g(()=>V.get("VITE_AUTH")),d=g(()=>{const a=[];if(l.value){const u=`/lists/users/${l.value.user.id}/${l.value.user.name}`;a.push({icon:"person",title:"My Account",route:u}),a.push({icon:"logout",title:"Logout",function:()=>{V.remove("VITE_AUTH"),window.location.href="/"}})}else a.push({icon:"person",title:"Login",route:"/login"}),a.push({icon:"edit",title:"Register",route:"/register"});return a.push({icon:"info",title:"About",route:"/about"}),a});function _(a){e.value=a}return(a,u)=>{const y=Y("router-view");return o(),f(le,null,{menu:s(()=>[(o(!0),c(p,null,S(d.value,n=>(o(),c(p,{key:n.title||n.groupTitle},[n.groupTitle?(o(),c(p,{key:0},[t(q,{header:""},{default:s(()=>[h(b(n.groupTitle),1)]),_:2},1024),(o(!0),c(p,null,S(n.links,i=>(o(),f(A,z({key:i.title,ref_for:!0},i,{"active-route":e.value,indent:!0}),null,16,["active-route"]))),128))],64)):(o(),f(A,z({key:1,ref_for:!0},n,{"active-route":e.value,indent:!1}),null,16,["active-route"]))],64))),128))]),default:s(()=>[t(Z,null,{default:s(()=>[m("div",ue,[t(re)]),t(y,{onRouteChanged:_})]),_:1})]),_:1})}}});export{de as default};
