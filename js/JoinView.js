import{n as w,c as d,e as n,w as a,K as i,p as l,a2 as f,v as y,a3 as g,a5 as t,S as m,H as b,B as u,a6 as V,V as c}from"./vendor.js";import{U as h}from"./User.js";import"./MyBaseModel.js";const v={name:"JoinView",data(){return{entity:{},loading:!1,checkEmail:!1,showPassword:!1,showCPassword:!1,errors:{},itemEmpty:{name:"",email:"",password:"",c_password:""}}},methods:{setErrors(o={}){for(const e in this.itemEmpty)o[e]?this.errors[e]=o[e][0]:this.errors[e]=null},join(){this.$refs.form.validate()&&(this.loading=!0,c.get("VITE_AUTH"),h.Register(this.entity).then(o=>{o.response.data.user,this.checkEmail=!0,this.loading=!1}).catch(o=>{o.response&&o.response.data.errors&&this.setErrors(o.response.data.errors),this.loading=!1}))}},mounted(){this.setErrors()}},k={class:"row q-col-gutter-md"},q={class:"col-xl-6 col-md-6 col-sm-12 col-xs-12"},P={class:"q-mt-md text-center"};function x(o,e,C,E,s,p){return n(),d(V,{class:"q-pa-md"},{default:a(()=>[i("div",k,[e[11]||(e[11]=i("div",{class:"col-xl-3 col-md-3 col-sm-12 col-xs-12"},null,-1)),i("div",q,[l(f,{class:"q-pa-md"},{default:a(()=>[s.checkEmail?(n(),y(b,{key:1},[e[8]||(e[8]=u(" Your account has been registered! ")),e[9]||(e[9]=i("br",null,null,-1)),e[10]||(e[10]=u(" We have sent you an email with instructions to verify your email address. "))],64)):(n(),d(g,{key:0,ref:"form",onSubmit:p.join},{default:a(()=>[e[7]||(e[7]=i("div",{class:"text-h6 q-mb-md"},"Register",-1)),l(t,{modelValue:s.entity.name,"onUpdate:modelValue":e[0]||(e[0]=r=>s.entity.name=r),label:"Full Name",error:!!s.errors.name,"error-message":s.errors.name,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","error","error-message","rules"]),l(t,{type:"email",modelValue:s.entity.email,"onUpdate:modelValue":e[1]||(e[1]=r=>s.entity.email=r),label:"Email",error:!!s.errors.email,"error-message":s.errors.email,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","error","error-message","rules"]),l(t,{modelValue:s.entity.password,"onUpdate:modelValue":e[2]||(e[2]=r=>s.entity.password=r),type:s.showPassword?"text":"password",append:s.showPassword?"visibility_off":"visibility","onClick:append":e[3]||(e[3]=r=>s.showPassword=!s.showPassword),label:"Password",error:!!s.errors.password,"error-message":s.errors.password,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","type","append","error","error-message","rules"]),l(t,{modelValue:s.entity.c_password,"onUpdate:modelValue":e[4]||(e[4]=r=>s.entity.c_password=r),type:s.showCPassword?"text":"password",append:s.showCPassword?"visibility_off":"visibility","onClick:append":e[5]||(e[5]=r=>s.showCPassword=!s.showCPassword),label:"Confirm Password",error:!!s.errors.c_password,"error-message":s.errors.c_password,rules:[r=>!!r||"Field is required"],outlined:"",dense:"",class:"q-mb-sm"},null,8,["modelValue","type","append","error","error-message","rules"]),l(m,{block:"",class:"full-width",loading:s.loading,type:"submit",label:"Register",color:"primary"},null,8,["loading"]),i("div",P,[l(m,{label:"Login",class:"full-width",outline:"",color:"primary",onClick:e[6]||(e[6]=r=>o.$router.push({path:"login"}))})])]),_:1,__:[7]},8,["onSubmit"]))]),_:1})])])]),_:1})}const Q=w(v,[["render",x]]);export{Q as default};
