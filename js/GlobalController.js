import{t as a,o as i,F,v as I,a as M,w as p,p as h,x as q,y as B,z as f,A as L,B as C,C as T,D as o,r as _,E as H,q as V}from"./vendor.js";import{a as S,H as D}from"./Header_Singleton.js";import{_ as y}from"./index.js";import{F as z}from"./Footer_Singleton.js";import"./BasicModel.js";const R={name:"MenuItems",components:{},props:{fetchFlags:{type:Object,default:()=>({})}},data(){return{activeRoute:this.$route.path,items:[],loading:!1,loadingError:!1,options:{page:1,itemsPerPage:10,sortBy:[],groupBy:[]},filterValsRef:{}}},computed:{superTableModel(){return S},filterValsComp(){return{...this.filterValsRef}}},methods:{isActive(t){return t.URL===this.activeRoute},colClasses(t=12){t=+t;const e={lg:1,md:1.5,sm:2,xs:4};function r(d){return[1,2,3,4,6,12].reduce((c,g)=>Math.abs(g-d)<Math.abs(c-d)?g:c)}const n=r(t*e.lg),s=r(t*e.md),m=r(t*e.sm),l=r(t*e.xs);return`col-${n} col-lg-${n} col-md-${s} col-sm-${m} col-xs-${l}`},async fetchData(){try{this.loading=!0,this.loadingError=!1;let t=[],e={},r={};const n=await this.superTableModel.FetchAll([],{...t,...r,...this.fetchFlags},e,{page:this.options.page,limit:this.options.itemsPerPage,filters:this.filterValsComp,clearPrimaryModelOnly:!1});this.items=n.response.data.records.map(s=>({id:s.id,createdTime:s.createdTime,...s.fields})),this.loading=!1}catch{this.loading=!1,this.loadingError=!0}}},mounted(){this.fetchData()},watch:{"$route.path"(t){this.activeRoute=t}}},A={class:"row justify-center"},P={key:0,class:"text-center q-pa-md"},Q={key:1,class:"text-center q-pa-md text-grey-5"};function j(t,e,r,n,s,m){return i(),a("div",A,[s.items.length?(i(!0),a(F,{key:1},I(s.items,l=>(i(),M(T,{key:l.id,clickable:"",to:l.URL,"active-class":"q-item--highlighted",class:"q-pl-lg text-h5",style:f(m.isActive(l)?"border-bottom: white solid 5px;":"border-bottom: rgba(0,0,0,0) solid 5px;")},{default:p(()=>[h(q,null,{default:p(()=>[h(B,{style:f(m.isActive(l)?"font-weight: bold;":"")},{default:p(()=>[L(C(l.Label),1)]),_:2},1032,["style"])]),_:2},1024)]),_:2},1032,["to","style"]))),128)):(i(),a(F,{key:0},[s.loading?(i(),a("div",P,"Loading...")):(i(),a("div",Q,"None"))],64))])}const E=y(R,[["render",j]]),N={name:"FooterController",components:{},data(){return{loading:!0,item:{}}},computed:{id(){return"recohXZhMAthQh64w"},superTableModel(){return z}},methods:{fetchData(){this.loading=!0,this.superTableModel.FetchById(this.id,[],{flags:{},moreHeaders:{},rels:[]}).then(t=>{this.item=t.response.data,this.loading=!1}).catch(()=>{this.loading=!1})}},mounted(){this.fetchData()}},U={class:"bg-black"},G={class:"container-md"},K={key:0,class:"text-center q-pa-xl"},O={key:1,class:"row justify-between q-py-md items-center"},Z={class:"col-12 col-md-auto text-center"},X=["src"],Y={class:"col-12 col-md-auto text-center"},J={class:"text-center"},W={class:"col-12 col-md-auto text-center"},tt={class:"row no-wrap justify-center q-my-lg"},et=["href"],st={style:{fill:"rgb(255, 255, 255)"},"data-v-f03d3c87":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"c-icon c-icon--md",role:"presentation"};function ot(t,e,r,n,s,m){var l,d,u,c;return i(),a("div",U,[o("div",G,[s.loading?(i(),a("div",K,"Loading...")):(i(),a("div",O,[o("div",Z,[o("img",{src:(l=this.item.fields)!=null&&l["Footer Logo"][0].thumbnails.large.url?`https://capetownlists.co.za/?url=${(d=this.item.fields)==null?void 0:d["Footer Logo"][0].thumbnails.large.url}`:"",style:{height:"100px"}},null,8,X)]),o("div",Y,[o("div",J,C((u=s.item.fields)==null?void 0:u["Copyright Text"]),1)]),o("div",W,[o("div",tt,[o("a",{href:(c=this.item.fields)==null?void 0:c["Facebook Link"],target:"_blank",style:{height:"16px",width:"16px"},class:"q-mx-sm"},[(i(),a("svg",st,e[0]||(e[0]=[o("path",{"data-v-f03d3c87":"",d:"M6.2965 3.7118v1.9264H5V8h1.2965v7H8.96V8h1.7883s.1669-1.134.2517-2.3702H8.9704V4.0184c0-.2408.2909-.56.5779-.56H11V1H9.0265c-2.7952 0-2.73 2.359-2.73 2.7118Z"},null,-1)])))],8,et)])])]))])])}const it=y(N,[["render",ot]]),rt={name:"GlobalController",components:{FooterController:it,MenuItems:E},data(){return{siteTitle:"Lorum Ipsum",loading:!0,item:{}}},computed:{id(){return"reci1Y5KdKFBkz3T1"},superTableModel(){return D},bgUrl(){var e,r,n;return(n=(r=(e=this.item.fields)==null?void 0:e["Site Background Image"])==null?void 0:r[0])==null?void 0:n.url}},methods:{fetchData(){this.loading=!0,this.superTableModel.FetchById(this.id,[],{flags:{},moreHeaders:{},rels:[]}).then(t=>{this.item=t.response.data,this.loading=!1}).catch(()=>{this.loading=!1})}},mounted(){this.fetchData()}},lt={class:"container-md text-white"},at={key:0,class:"text-center q-pa-xl"},nt={key:1,class:"row justify-between items-center q-py-md"},ct={class:"col-12 col-md-auto text-center"},dt=["src"],ht={class:"col-12 col-md-auto q-my-lg text-center"},mt={class:"q-mt-md",style:{"min-height":"60vh"}};function ut(t,e,r,n,s,m){var c,g,x,v,b,$;const l=_("MenuItems"),d=_("router-view"),u=_("FooterController");return i(),a("div",{style:f([(x=(g=(c=this.item.fields)==null?void 0:c["Site Background Image"])==null?void 0:g[0])!=null&&x.url?`background-image: url(https://capetownlists.co.za/?url=${($=(b=(v=this.item.fields)==null?void 0:v["Site Background Image"])==null?void 0:b[0])==null?void 0:$.url});`:"",{color:"white","min-height":"100vh","background-color":"rgb(70,70,70)","background-position":"center","background-size":"cover","background-attachment":"fixed"}])},[h(H,{style:{height:"100%"},class:"q-py-md bg-black"},{default:p(()=>{var k,w;return[o("div",lt,[s.loading?(i(),a("div",at,"Loading...")):(i(),a("div",nt,[o("div",ct,[o("img",{src:(k=this.item.fields)!=null&&k["Logo Image"][0].thumbnails.large.url?`https://capetownlists.co.za/?url=${(w=this.item.fields)==null?void 0:w["Logo Image"][0].thumbnails.large.url}`:"",style:{height:"200px"}},null,8,dt)]),o("div",ht,[h(l)])]))])]}),_:1}),h(V,null,{default:p(()=>[o("div",mt,[h(d)])]),_:1}),h(u)],4)}const xt=y(rt,[["render",ut]]);export{xt as default};
