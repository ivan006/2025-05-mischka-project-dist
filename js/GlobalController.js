import{t as r,o as i,F as C,v as I,a as M,w as p,p as h,x as q,y as B,z as f,A as L,B as F,C as T,D as e,r as _,E as H,q as S}from"./vendor.js";import{a as V,H as D}from"./Header_Singleton.js";import{_ as y}from"./index.js";import{F as z}from"./Footer_Singleton.js";import"./BasicModel.js";const P={name:"MenuItems",components:{},props:{fetchFlags:{type:Object,default:()=>({})}},data(){return{activeRoute:this.$route.path,items:[],loading:!1,loadingError:!1,options:{page:1,itemsPerPage:10,sortBy:[],groupBy:[]},filterValsRef:{}}},computed:{superTableModel(){return V},filterValsComp(){return{...this.filterValsRef}}},methods:{isActive(t){return t.URL===this.activeRoute},colClasses(t=12){t=+t;const s={lg:1,md:1.5,sm:2,xs:4};function l(d){return[1,2,3,4,6,12].reduce((c,g)=>Math.abs(g-d)<Math.abs(c-d)?g:c)}const n=l(t*s.lg),o=l(t*s.md),m=l(t*s.sm),a=l(t*s.xs);return`col-${n} col-lg-${n} col-md-${o} col-sm-${m} col-xs-${a}`},async fetchData(){try{this.loading=!0,this.loadingError=!1;let t=[],s={},l={};const n=await this.superTableModel.FetchAll([],{...t,...l,...this.fetchFlags},s,{page:this.options.page,limit:this.options.itemsPerPage,filters:this.filterValsComp,clearPrimaryModelOnly:!1});this.items=n.response.data.records.map(o=>({id:o.id,createdTime:o.createdTime,...o.fields})),this.loading=!1}catch{this.loading=!1,this.loadingError=!0}}},mounted(){this.fetchData()},watch:{"$route.path"(t){this.activeRoute=t}}},R={class:"row justify-center"},A={key:0,class:"text-center q-pa-md"},Q={key:1,class:"text-center q-pa-md text-grey-5"};function j(t,s,l,n,o,m){return i(),r("div",R,[o.items.length?(i(!0),r(C,{key:1},I(o.items,a=>(i(),M(T,{key:a.id,clickable:"",to:a.URL,"active-class":"q-item--highlighted",class:"q-pl-lg text-h5",style:f(m.isActive(a)?"border-bottom: white solid 5px;":"border-bottom: rgba(0,0,0,0) solid 5px;")},{default:p(()=>[h(q,null,{default:p(()=>[h(B,{style:f(m.isActive(a)?"font-weight: bold;":"")},{default:p(()=>[L(F(a.Label),1)]),_:2},1032,["style"])]),_:2},1024)]),_:2},1032,["to","style"]))),128)):(i(),r(C,{key:0},[o.loading?(i(),r("div",A,"Loading...")):(i(),r("div",Q,"None"))],64))])}const E=y(P,[["render",j]]),N={name:"FooterController",components:{},data(){return{loading:!0,item:{}}},computed:{id(){return"recohXZhMAthQh64w"},superTableModel(){return z}},methods:{fetchData(){this.loading=!0,this.superTableModel.FetchById(this.id,[],{flags:{},moreHeaders:{},rels:[]}).then(t=>{this.item=t.response.data,this.loading=!1}).catch(()=>{this.loading=!1})}},mounted(){this.fetchData()}},G={class:"bg-black"},U={class:"container-md"},K={key:0,class:"text-center q-pa-xl"},O={key:1,class:"row justify-between q-py-md items-center"},Z={class:"col-12 col-md-auto text-center"},X=["src"],Y={class:"col-12 col-md-auto text-center"},J={class:"text-center"},W={class:"col-12 col-md-auto text-center"},tt={class:"row no-wrap justify-center q-my-lg"},et=["href"],st={style:{fill:"rgb(255, 255, 255)"},"data-v-f03d3c87":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"c-icon c-icon--md",role:"presentation"};function ot(t,s,l,n,o,m){var a,d,u,c;return i(),r("div",G,[e("div",U,[o.loading?(i(),r("div",K,"Loading...")):(i(),r("div",O,[e("div",Z,[e("img",{src:(a=this.item.fields)!=null&&a["Footer Logo"][0].thumbnails.large.url?`https://capetownlists.co.za/?url=${(d=this.item.fields)==null?void 0:d["Footer Logo"][0].thumbnails.large.url}`:"",style:{height:"100px"}},null,8,X)]),e("div",Y,[e("div",J,F((u=o.item.fields)==null?void 0:u["Copyright Text"]),1)]),e("div",W,[e("div",tt,[e("a",{href:(c=this.item.fields)==null?void 0:c["Facebook Link"],target:"_blank",style:{height:"16px",width:"16px"},class:"q-mx-sm"},[(i(),r("svg",st,s[0]||(s[0]=[e("path",{"data-v-f03d3c87":"",d:"M6.2965 3.7118v1.9264H5V8h1.2965v7H8.96V8h1.7883s.1669-1.134.2517-2.3702H8.9704V4.0184c0-.2408.2909-.56.5779-.56H11V1H9.0265c-2.7952 0-2.73 2.359-2.73 2.7118Z"},null,-1)])))],8,et)])])]))])])}const it=y(N,[["render",ot]]),lt={name:"GlobalController",components:{FooterController:it,MenuItems:E},data(){return{siteTitle:"Lorum Ipsum",loading:!0,item:{}}},computed:{id(){return"reci1Y5KdKFBkz3T1"},superTableModel(){return D},bgUrl(){var s,l,n;return(n=(l=(s=this.item.fields)==null?void 0:s["Site Background Image"])==null?void 0:l[0])==null?void 0:n.url}},methods:{fetchData(){this.loading=!0,this.superTableModel.FetchById(this.id,[],{flags:{},moreHeaders:{},rels:[]}).then(t=>{this.item=t.response.data,this.loading=!1}).catch(()=>{this.loading=!1})}},mounted(){this.fetchData()}},at={class:"GlobalController"},rt={class:"container-md text-white"},nt={key:0,class:"text-center q-pa-xl"},ct={key:1,class:"row justify-between items-center q-py-md"},dt={class:"col-12 col-md-auto text-center"},ht=["src"],mt={class:"col-12 col-md-auto q-my-lg text-center"},ut={class:"q-mt-md",style:{"min-height":"60vh"}};function gt(t,s,l,n,o,m){var c,g,v,x,b,$;const a=_("MenuItems"),d=_("router-view"),u=_("FooterController");return i(),r("div",{style:f([(v=(g=(c=this.item.fields)==null?void 0:c["Site Background Image"])==null?void 0:g[0])!=null&&v.url?`background-image: url(https://capetownlists.co.za/?url=${($=(b=(x=this.item.fields)==null?void 0:x["Site Background Image"])==null?void 0:b[0])==null?void 0:$.url});`:"",{color:"white","min-height":"100vh","background-color":"rgb(70,70,70)","background-position":"center","background-size":"auto 100vh","background-attachment":"fixed"}]),class:"ScaledParent"},[e("div",at,[h(H,{style:{height:"100%"},class:"q-py-md bg-black"},{default:p(()=>{var k,w;return[e("div",rt,[o.loading?(i(),r("div",nt,"Loading...")):(i(),r("div",ct,[e("div",dt,[e("img",{src:(k=this.item.fields)!=null&&k["Logo Image"][0].thumbnails.large.url?`https://capetownlists.co.za/?url=${(w=this.item.fields)==null?void 0:w["Logo Image"][0].thumbnails.large.url}`:"",style:{height:"200px"}},null,8,ht)]),e("div",mt,[h(a)])]))])]}),_:1}),h(S,null,{default:p(()=>[e("div",ut,[h(d)])]),_:1}),h(u)])],4)}const xt=y(lt,[["render",gt]]);export{xt as default};
